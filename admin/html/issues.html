<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin ‚Äî Issue Reports</title>
  <link rel="stylesheet" href="../css/admin.css" />
  <link rel="stylesheet" href="../css/issues.css" />
  <script src="../js/nav.js"></script>
</head>
<body class="admin-app">
  <button class="mobile-menu" id="mobileMenu" aria-label="Open menu" aria-controls="adminSidebar" aria-expanded="false">‚ò∞</button>
  <div class="overlay" id="menuOverlay" aria-hidden="true" hidden></div>
  <aside class="admin-sidebar" id="adminSidebar">
    <div class="brand">Skiloora</div>
    <nav class="nav">
      <div class="section-label">Overview</div>
      <a class="nav-item" href="./dashboard.html"><span class="icon">‚ñ¶</span>Dashboard</a>
      <div class="section-label">Users Management</div>
      <a class="nav-sublink" href="./users.html#freelancers">Freelancers</a>
      <a class="nav-sublink" href="./users.html#clients">Clients / Hirers</a>
      <a class="nav-sublink" href="./users-manage.html">Manage Suspensions</a>
      <div class="section-label">Payments</div>
      <a class="nav-sublink" href="./payments.html#withdrawals">Payments</a>
      <a class="nav-sublink" href="./payments.html#revenue">Revenue Dashboard</a>
      <div class="section-label">Settings</div>
      <a class="nav-sublink" href="./settings.html#roles">Roles &amp; Permissions</a>
      <div class="section-label">Help &amp; Support</div>
      <a class="nav-sublink active" href="./issues.html"><span class="icon">‚ùì</span>Issue Reports</a>
    </nav>
    <div class="sidebar-bottom"><button id="adminLogout" class="btn-ghost">Logout</button></div>
  </aside>

  <main class="admin-main">
    <header class="admin-topbar">
      <div class="path">Admin Dashboard</div>
      <div class="top-actions"><input class="search" placeholder="Search..." /><button id="adminLogoutTop" class="btn-ghost top-logout">Logout</button><div class="avatar">A</div></div>
    </header>

    <section class="section">
      <h2>Issue Reports <span class="count-chip" id="countIssues">0</span></h2>
      <p class="muted">View and manage support tickets from users</p>

      <div class="issue-metrics">
        <div class="issue-card">
          <div class="ic-head"><span>Open Issues</span><span class="ic-icon">‚è±</span></div>
          <div class="ic-value" id="irOpen">12</div>
        </div>
        <div class="issue-card">
          <div class="ic-head"><span>In Progress</span><span class="ic-icon">üí¨</span></div>
          <div class="ic-value" id="irInProgress">8</div>
        </div>
        <div class="issue-card">
          <div class="ic-head"><span>Resolved</span><span class="ic-icon">‚úÖ</span></div>
          <div class="ic-value" id="irResolved">47</div>
        </div>
      </div>

      <h3 style="margin-top:20px">All Support Tickets</h3>
      <div class="table cols-6">
        <div class="row head"><div>User</div><div>User Type</div><div>Subject</div><div>Priority</div><div>Status</div><div></div></div>
        <div id="issueRows" class="rows"></div>
      </div>
    </section>
  </main>

  <!-- Confirm Delete Issue Modal -->
  <div id="confirmIssueModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="ciTitle">
    <div class="modal-dialog">
      <div class="modal-header">
        <h3 id="ciTitle">Delete Issue</h3>
        <button id="ciClose" class="btn-ghost" aria-label="Close">‚úï</button>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to delete this issue?</p>
        <p class="muted" id="ciSubject"></p>
      </div>
      <div class="modal-footer">
        <button id="ciCancel" class="btn-ghost">Cancel</button>
        <button id="ciConfirm" class="btn-primary">Delete</button>
      </div>
    </div>
    <div id="backdropIssue" class="backdrop"></div>
  </div>

  <script src="../js/issues.js"></script>
</body>
</html>
